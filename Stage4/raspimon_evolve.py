from sense_hat import SenseHat
import time


sense = SenseHat()

r = (255, 0, 0)
g = (0, 255, 0)
b = (0, 0, 255)
k = (0, 0, 0)
w = (255, 255, 255)
c = (0, 255, 255)
y = (255, 255, 0)
o = (255, 128, 0)
n = (255, 128, 128)
p = (128, 0, 128)
d = (255, 0, 128)
l = (128, 255, 128)

raspimon_egg =  [(128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (255, 255, 255), (255, 255, 255), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (255, 255, 255), (255, 255, 255), (255, 255, 255), (255, 255, 255), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (255, 255, 255), (255, 255, 255), (255, 255, 255), (255, 255, 255), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (255, 255, 255), (255, 255, 255), (255, 255, 255), (255, 255, 255), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (255, 255, 255), (255, 255, 255), (255, 255, 255), (255, 255, 255), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (255, 255, 255), (255, 255, 255), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128), (128, 0, 128)]
raspimon_hatched = [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [248, 20, 144], [248, 20, 144], [248, 20, 144], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [248, 20, 144], [248, 20, 144], [248, 20, 144], [248, 20, 144], [248, 20, 144], [0, 0, 0], [0, 0, 0], [0, 0, 0], [248, 20, 144], [248, 0, 0], [248, 20, 144], [248, 0, 0], [248, 20, 144], [0, 0, 0], [0, 0, 0], [0, 0, 0], [248, 20, 144], [248, 252, 248], [128, 0, 128], [248, 252, 248], [248, 20, 144], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [248, 20, 144], [248, 20, 144], [248, 20, 144], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [248, 20, 144], [0, 0, 0], [248, 20, 144], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [248, 20, 144], [248, 20, 144], [0, 0, 0], [248, 20, 144], [248, 20, 144], [0, 0, 0]]


current_state = 'egg'
food = 0
        
def feed(amt):
    global food, current_state
    food = food + amt #incrase by the amount of shaking.     
    if food > 50:
        current_state = 'hatched'
        print("hatched")
         
    
    
    
    
while True:
    
    accel = sense.get_accelerometer_raw()  

    x = accel["x"] #get each separate float value
    y = accel["y"]
    z = accel["z"]
    
    x = abs(x)
    y = abs(y)
    z = abs(y)
       
    shaking = x+y+z
    
    print("currently " + current_state)
    
    if shaking > 3.5 and shaking < 6:
        feed(shaking) # pass in the amount of shaking
        
    if current_state == 'egg':
        sense.set_pixels(raspimon_egg)
    elif current_state == 'hatched':
        sense.set_pixels(raspimon_hatched)
        

        
        
        
        
    
        
        
        
        
        
        
        
                
        
        
        
        
        
        